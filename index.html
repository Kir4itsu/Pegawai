<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Absensi Jawa - Masuk</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-user-clock"></i>
                </div>
                <h1 class="auth-title" id="auth-title">Selamat Datang</h1>
                <p class="auth-subtitle" id="auth-subtitle">Masuk ke Sistem Absensi Jawa</p>
            </div>

            <!-- Sign In Form -->
            <div class="form-section active" id="signin-section">
                <form class="auth-form" id="signin-form">
                    <div class="form-group">
                        <label for="signin-email">Email atau Username</label>
                        <div class="input-group">
                            <input type="text" id="signin-email" class="form-input" placeholder="Masukkan email atau username" required>
                            <i class="fas fa-user input-icon"></i>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="signin-password">Password</label>
                        <div class="input-group">
                            <input type="password" id="signin-password" class="form-input" placeholder="Masukkan password" required>
                            <i class="fas fa-lock input-icon"></i>
                            <i class="fas fa-eye password-toggle" onclick="togglePassword('signin-password', this)"></i>
                        </div>
                        <div class="forgot-password">
                            <a href="#" onclick="showForgotPassword()">Lupa password?</a>
                        </div>
                    </div>

                    <div class="remember-me">
                        <input type="checkbox" id="remember-me">
                        <label for="remember-me">Ingat saya</label>
                    </div>

                    <button type="submit" class="auth-button">
                        <span class="button-text">
                            <i class="fas fa-sign-in-alt"></i>
                            Masuk
                        </span>
                        <div class="loading"></div>
                    </button>

                    <div class="error-message" id="signin-error"></div>
                </form>

                <div class="auth-divider">
                    <span>atau</span>
                </div>

                <div class="auth-switch">
                    <p>Belum punya akun?</p>
                    <button class="switch-button" onclick="switchToSignup()">Daftar Sekarang</button>
                </div>
            </div>

            <!-- Sign Up Form -->
            <div class="form-section" id="signup-section">
                <form class="auth-form" id="signup-form">
                    <div class="form-group">
                        <label for="signup-name">Nama Lengkap</label>
                        <div class="input-group">
                            <input type="text" id="signup-name" class="form-input" placeholder="Masukkan nama lengkap" required>
                            <i class="fas fa-user input-icon"></i>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="signup-email">Email</label>
                        <div class="input-group">
                            <input type="email" id="signup-email" class="form-input" placeholder="Masukkan email" required>
                            <i class="fas fa-envelope input-icon"></i>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="signup-username">Username</label>
                        <div class="input-group">
                            <input type="text" id="signup-username" class="form-input" placeholder="Masukkan username" required>
                            <i class="fas fa-at input-icon"></i>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <div class="input-group">
                            <input type="password" id="signup-password" class="form-input" placeholder="Buat password" required>
                            <i class="fas fa-lock input-icon"></i>
                            <i class="fas fa-eye password-toggle" onclick="togglePassword('signup-password', this)"></i>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirm-password">Konfirmasi Password</label>
                        <div class="input-group">
                            <input type="password" id="confirm-password" class="form-input" placeholder="Konfirmasi password" required>
                            <i class="fas fa-lock input-icon"></i>
                            <i class="fas fa-eye password-toggle" onclick="togglePassword('confirm-password', this)"></i>
                        </div>
                    </div>

                    <button type="submit" class="auth-button">
                        <span class="button-text">
                            <i class="fas fa-user-plus"></i>
                            Daftar
                        </span>
                        <div class="loading"></div>
                    </button>

                    <div class="error-message" id="signup-error"></div>
                    <div class="success-message" id="signup-success"></div>
                </form>

                <div class="auth-divider">
                    <span>atau</span>
                </div>

                <div class="auth-switch">
                    <p>Sudah punya akun?</p>
                    <button class="switch-button" onclick="switchToSignin()">Masuk Sekarang</button>
                </div>
            </div>

            <!-- Forgot Password Form -->
            <div class="form-section" id="forgot-section">
                <form class="auth-form" id="forgot-form">
                    <div class="form-group">
                        <label for="forgot-email">Email</label>
                        <div class="input-group">
                            <input type="email" id="forgot-email" class="form-input" placeholder="Masukkan email Anda" required>
                            <i class="fas fa-envelope input-icon"></i>
                        </div>
                    </div>

                    <button type="submit" class="auth-button">
                        <span class="button-text">
                            <i class="fas fa-paper-plane"></i>
                            Kirim Link Reset
                        </span>
                        <div class="loading"></div>
                    </button>

                    <div class="error-message" id="forgot-error"></div>
                    <div class="success-message" id="forgot-success"></div>
                </form>

                <div class="auth-switch">
                    <p>Ingat password Anda?</p>
                    <button class="switch-button" onclick="switchToSignin()">Kembali ke Masuk</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample user data for demo
        const users = [
            {
                email: 'kiraitsu@demo.com',
                username: 'kiraitsu',
                password: '123',
                name: 'Kiraitsu M.'
            },
            {
                email: 'admin@demo.com',
                username: 'admin',
                password: 'admin123',
                name: 'Administrator'
            }
        ];

        // Toggle password visibility
        function togglePassword(inputId, toggleIcon) {
            const input = document.getElementById(inputId);
            const icon = toggleIcon;
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        // Switch between forms
        function switchToSignup() {
            document.getElementById('signin-section').classList.remove('active');
            document.getElementById('signup-section').classList.add('active');
            document.getElementById('auth-title').textContent = 'Buat Akun Baru';
            document.getElementById('auth-subtitle').textContent = 'Daftar untuk menggunakan Sistem Absensi Jawa';
            clearMessages();
        }

        function switchToSignin() {
            document.getElementById('signup-section').classList.remove('active');
            document.getElementById('forgot-section').classList.remove('active');
            document.getElementById('signin-section').classList.add('active');
            document.getElementById('auth-title').textContent = 'Selamat Datang';
            document.getElementById('auth-subtitle').textContent = 'Masuk ke Sistem Absensi Jawa';
            clearMessages();
        }

        function showForgotPassword() {
            document.getElementById('signin-section').classList.remove('active');
            document.getElementById('forgot-section').classList.add('active');
            document.getElementById('auth-title').textContent = 'Lupa Password';
            document.getElementById('auth-subtitle').textContent = 'Masukkan email untuk reset password';
            clearMessages();
        }

        // Clear all messages
        function clearMessages() {
            const messages = document.querySelectorAll('.error-message, .success-message');
            messages.forEach(msg => {
                msg.style.display = 'none';
                msg.textContent = '';
            });
        }

        // Show message
        function showMessage(elementId, message, isError = true) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.style.display = 'block';
            
            // Hide message after 5 seconds
            setTimeout(() => {
                element.style.display = 'none';
            }, 5000);
        }

        // Set loading state
        function setLoading(button, isLoading) {
            if (isLoading) {
                button.classList.add('loading');
            } else {
                button.classList.remove('loading');
            }
        }

        // Sign In Form Handler
        document.getElementById('signin-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('signin-email').value;
            const password = document.getElementById('signin-password').value;
            const button = this.querySelector('.auth-button');
            
            setLoading(button, true);
            clearMessages();
            
            // Simulate API call
            setTimeout(() => {
                // Check credentials
                const user = users.find(u => 
                    (u.email === email || u.username === email) && u.password === password
                );
                
                if (user) {
                    // Store user data in localStorage
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    localStorage.setItem('isLoggedIn', 'true');
                    
                    // Show success and redirect
                    showMessage('signin-error', 'Login berhasil! Mengalihkan...', false);
                    setTimeout(() => {
                        window.location.href = 'main.html';
                    }, 1500);
                } else {
                    showMessage('signin-error', 'Email/username atau password salah!');
                }
                
                setLoading(button, false);
            }, 1500);
        });

        // Sign Up Form Handler
        document.getElementById('signup-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const username = document.getElementById('signup-username').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const button = this.querySelector('.auth-button');
            
            setLoading(button, true);
            clearMessages();
            
            // Validate passwords match
            if (password !== confirmPassword) {
                showMessage('signup-error', 'Password tidak cocok!');
                setLoading(button, false);
                return;
            }
            
            // Check if user already exists
            const existingUser = users.find(u => u.email === email || u.username === username);
            if (existingUser) {
                showMessage('signup-error', 'Email atau username sudah digunakan!');
                setLoading(button, false);
                return;
            }
            
            // Simulate API call
            setTimeout(() => {
                // Add new user
                const newUser = {
                    email: email,
                    username: username,
                    password: password,
                    name: name
                };
                users.push(newUser);
                
                showMessage('signup-success', 'Akun berhasil dibuat! Silakan masuk.', false);
                
                // Clear form
                this.reset();
                
                // Switch to signin after 2 seconds
                setTimeout(() => {
                    switchToSignin();
                }, 2000);
                
                setLoading(button, false);
            }, 1500);
        });

        // Forgot Password Form Handler
        document.getElementById('forgot-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('forgot-email').value;
            const button = this.querySelector('.auth-button');
            
            setLoading(button, true);
            clearMessages();
            
            // Simulate API call
            setTimeout(() => {
                // Check if email exists
                const user = users.find(u => u.email === email);
                
                if (user) {
                    showMessage('forgot-success', 'Link reset password telah dikirim ke email Anda!', false);
                    this.reset();
                } else {
                    showMessage('forgot-error', 'Email tidak ditemukan!');
                }
                
                setLoading(button, false);
            }, 1500);
        });

        // Check if user is already logged in
        if (localStorage.getItem('isLoggedIn') === 'true') {
            window.location.href = 'main.html';
        }

        // Add some interactive effects
        document.querySelectorAll('.form-input').forEach(input => {
            input.addEventListener('focus', function() {
                this.parentElement.classList.add('focused');
            });
            
            input.addEventListener('blur', function() {
                this.parentElement.classList.remove('focused');
            });
        });
    </script>
</body>
</html>
// username: kiraitsu  password: '123',
